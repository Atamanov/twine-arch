---
layout: default
title: Zero-Knowledge Proof Stack
---

# Zero-Knowledge Proof Stack

[← Back to Architecture Overview](./Architecture.md)

Twine employs a modular zero-knowledge proof architecture supporting multiple proving systems for scalable, trust-minimized verification.

## Trust Minimization

**Core Property**: Zero-knowledge proofs replace trust with mathematics. Proofs are:
- ✅ Publicly verifiable (anyone can verify)
- ✅ Reproducible (deterministic proof generation)
- ✅ Self-contained (no external dependencies)
- ✅ Cryptographically sound (computationally infeasible to forge)

**No trust required**: Proof validity verified mathematically, not by trusted parties.

## ZKVM Execution Proving

**Supported Proving Systems**:
- **SP1**: General-purpose ZKVM with BLS precompiles and excellent developer experience
- **Risc0**: Alternative ZKVM for execution proving with different performance characteristics
- **Modular Design**: Abstract interface allows integration of future proving systems

**Proof Generation Pipeline**:
1. Execution trace captured during transaction processing
2. State transition function compiled to RISC-V (ZKVM target)
3. Cryptographic witness generated from execution trace
4. ZKVM generates succinct proof of correct execution
5. Raw proof compressed to Groth16 for on-chain verification

**Trust Minimization**: Proofs generated by distributed workers, verified on-chain. Anyone can run proving infrastructure.

## Groth16 Compression

Raw ZKVM proofs are compressed to Groth16 format for gas-efficient Layer 1 verification:

- **Size Reduction**: Constant-size proof (~128-256 bytes) regardless of computation complexity
- **Fast Verification**: On-chain verification in constant time (~300-500k gas on Ethereum)
- **Universal Support**: Groth16 verifiers available on all target Layer 1 chains
- **Trusted Setup**: Uses existing trusted setups or generates chain-specific ceremonies

**Trust Minimization**: Groth16 security relies on well-studied cryptographic assumptions (discrete log, pairings).

## Proof Aggregation

**Batch Aggregation**:
- Multiple execution proofs aggregated into single proof
- Reduces Layer 1 settlement costs by orders of magnitude
- Enables high throughput while maintaining security

**Consensus Proof Aggregation**:
- Multiple Layer 1 consensus proofs aggregated when possible
- Single verification covers state from multiple source chains
- Future: Integration with proof aggregation schemes (e.g., Nova folding)

**Trust Minimization**: Aggregation preserves proof validity—combined proof is as secure as individual proofs.

## Performance Characteristics

| Metric | Value |
|--------|-------|
| **SP1 Proving** | 30-60 seconds per batch (distributed prover network) |
| **Groth16 Compression** | Additional 15-25 minutes per batch |
| **On-Chain Verification** | ~300-500k gas per proof on Ethereum |
| **Target Throughput** | 100+ TPS with proof aggregation |

**Trust Minimization**: Performance optimizations don't compromise security—proofs remain cryptographically sound.

---

[← Back to Architecture Overview](./Architecture.md)
